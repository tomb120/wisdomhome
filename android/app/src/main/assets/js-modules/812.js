__d(function(e,t,r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var o=t(a[0]),i=babelHelpers.interopRequireDefault(o),s=t(a[1]),l=t(a[2]),u=babelHelpers.interopRequireDefault(l),c=t(a[3]),f=(babelHelpers.interopRequireDefault(c),t(a[4])),d=babelHelpers.interopRequireWildcard(f),h=t(a[5]),m=(babelHelpers.interopRequireDefault(h),t(a[6])),g=(babelHelpers.interopRequireDefault(m),t(a[7])),p=babelHelpers.interopRequireDefault(g),b=t(a[8]),y=babelHelpers.interopRequireDefault(b),S=t(a[9]),w=(babelHelpers.interopRequireDefault(S),t(a[10]),[]),R=s.Dimensions.get('window'),x=R.width,C=(R.height,s.NativeModules.EventEmitterManager),v=new s.NativeEventEmitter(C),D=new s.ListView.DataSource({rowHasChanged:function(e,t){return e!=t}}),I=null,k=(function(e){function t(e){var r=this;babelHelpers.classCallCheck(this,t);var n=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.querymessage=function(){var e,t,a,o,i;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(null!==I){r.next=2;break}return r.abrupt("return");case 2:return e=d.baseurl+"/buildProject/findMessageInfoByUserId?userIdFk="+I.userId+'&pageIndex='+n.state.page+"&pageSize=12",r.next=5,regeneratorRuntime.awrap(fetch(e));case 5:return t=r.sent,r.next=8,regeneratorRuntime.awrap(t.json());case 8:return a=r.sent,o=a.data,i=o.messageInfoList,r.abrupt("return",i);case 12:case"end":return r.stop()}},null,r)},n.requestfistData=function(){try{n.setState({refreshState:g.RefreshState.HeaderRefreshing,page:1},function(){var e;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(n.querymessage());case 2:e=t.sent,n.setState({data:e,refreshState:g.RefreshState.Idle});case 4:case"end":return t.stop()}},null,r)})}catch(e){n.setState({refreshState:g.RefreshState.Failure})}},n.requestNextData=function(){try{n.setState({refreshState:g.RefreshState.FooterRefreshing,page:n.state.page+1},function(){var e;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(n.querymessage());case 2:e=t.sent,n.setState({data:[].concat(babelHelpers.toConsumableArray(n.state.data),babelHelpers.toConsumableArray(e)),refreshState:n.state.data.length>30?g.RefreshState.NoMoreData:g.RefreshState.Idle});case 4:case"end":return t.stop()}},null,r)})}catch(e){n.setState({refreshState:g.RefreshState.Failure})}},n.headerRefresh=function(){n.requestfistData()},n.footerRefresh=function(){n.requestNextData()},n.state={dataSource:D.cloneWithRows(w),messageinfo:[],refreshState:g.RefreshState.Idle,page:1,data:[]},n}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentWillUnmount",value:function(){this.listener.remove()}},{key:"componentDidMount",value:function(){var e=this;s.AsyncStorage.getItem('logininfo',function(t,r){I=JSON.parse(r),e.requestfistData()}),this.listener=u.default.addListener('noticedata',function(e){}),this.remoteNoti=v.addListener('RemoteNoti',function(t){return e.androidComeFrom(t)})}},{key:"androidComeFrom",value:function(e){console.log(e)}},{key:"fetchfilterData",value:function(e,t,r,n){var a=this,o=d.baseurl+"";return fetch(o,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){a.setState({status:e.status,msg:e.msg},function(){this.refs.toast.show(this.state.msg),1==this.state.status&&null!==w&&'undefined'!==w&&(w.splice(r,1),this.setState({dataSource:D.cloneWithRows(w)}),parseInt(r)!==I.length&&n[""+t+r].closeRow())})}).catch(function(e){console.log(e.message)})}},{key:"_onitemPress",value:function(){}},{key:"render",value:function(){var e=this;return i.default.createElement(s.View,{style:E.container},i.default.createElement(s.View,{style:E.containerbox},i.default.createElement(s.View,{style:E.searchBox},i.default.createElement(s.Image,{source:{uri:'icon_2_23'},style:E.searchIcon}),i.default.createElement(s.TextInput,{style:E.inputText,autoCapitalize:"none",underlineColorAndroid:"transparent",placeholderTextColor:'#aaa',placeholder:"\u8f93\u5165\u4e3b\u9898\u8fdb\u884c\u68c0\u7d22",onChangeText:function(t){return e.queryorder(t)}}))),i.default.createElement(p.default,{data:this.state.data,keyExtractor:function(e){return e.id},renderItem:function(t){t.index;var r=t.item;return i.default.createElement(s.TouchableOpacity,{onPress:e._onitemPress.bind(e,r),onLongPress:function(){e._onitemPress.bind(e,r)}},i.default.createElement(s.View,{style:E.itemStyle},i.default.createElement(s.Text,{style:E.name},r.messageContent)))},refreshState:this.state.refreshState,onHeaderRefresh:function(){return e.headerRefresh()},onFooterRefresh:function(){return e.footerRefresh()}}))}},{key:"_pressitem",value:function(e){this.addUserWorkOrder(e.builtProjectId)}},{key:"renderRow",value:function(e,t,r,n){var a=this;return i.default.createElement(s.View,{style:E.contentViewStyle},i.default.createElement(s.TouchableOpacity,{style:E.itemStyleall,onPress:function(){a._pressitem(e)}},i.default.createElement(s.View,{style:E.itemStyleall},i.default.createElement(s.View,{style:E.itemStyle},i.default.createElement(s.Text,{style:{width:2*x/3,marginLeft:10,fontSize:14,textColor:'black',flexWrap:'wrap'}},e.messageContent)))))}}]),t})(o.Component);n.default=k;var E=s.StyleSheet.create({container:{flexDirection:'column',flex:1,paddingTop:27,paddingBottom:5,marginBottom:5,alignItems:'center',backgroundColor:'#fff',borderBottomWidth:s.StyleSheet.hairlineWidth,borderBottomColor:'#cdcdcd'},containerbox:{flexDirection:'row',alignItems:'center',backgroundColor:'#fff'},searchBox:{height:40,flex:1,marginLeft:10,marginBottom:5,flexDirection:'row',backgroundColor:'#E6E7E8',borderRadius:20},searchIcon:{alignSelf:'center',marginLeft:7,marginRight:7,width:25,height:25},inputText:{alignSelf:'center',height:40,flex:1,marginLeft:5,fontSize:16,textAlignVertical:'center',textDecorationLine:'none'},contentViewStyle:{alignItems:'center',backgroundColor:'white',borderBottomWidth:1,borderBottomColor:'gray'},itemStyleall:{flexDirection:'column',justifyContent:'flex-start',backgroundColor:'white',alignItems:'center',width:x,height:60},itemStyle:{flexDirection:'row',paddingLeft:15,paddingRight:15,justifyContent:'flex-start',backgroundColor:'white',alignItems:'center',width:x,height:55,borderWidth:.5,borderColor:y.default.subtitle},rowBack:{alignItems:'center',backgroundColor:'#DDD',flexDirection:'row',justifyContent:'space-between',flex:1},leftView:{width:75,alignItems:'center',backgroundColor:'red',height:70,justifyContent:'center',borderRadius:5}})},812,[13,20,37,780,568,570,578,813,577,567,569]);