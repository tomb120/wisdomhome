__d(function(e,t,n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var o=t(a[0]),s=babelHelpers.interopRequireDefault(o),i=t(a[1]),l=t(a[2]),u=babelHelpers.interopRequireDefault(l),c=t(a[3]),d=babelHelpers.interopRequireDefault(c),f=t(a[4]),p=babelHelpers.interopRequireDefault(f),g=t(a[5]),m=babelHelpers.interopRequireWildcard(g),h=t(a[6]),b=babelHelpers.interopRequireDefault(h),w=t(a[7]),y=babelHelpers.interopRequireDefault(w),x=t(a[8]),v=(babelHelpers.interopRequireDefault(x),t(a[9])),S=babelHelpers.interopRequireDefault(v),T=t(a[10]),C=babelHelpers.interopRequireDefault(T),_=t(a[11]),E=babelHelpers.interopRequireDefault(_),F=i.Dimensions.get('window').width,D=t(a[12]),R=D.Loading,k=D.EasyLoading,H=(d.default.logininfo,(function(e){function n(e){babelHelpers.classCallCheck(this,n);var t=babelHelpers.possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={textuser:'',textpass:''},t.WXLogin=function(){wechat.isWXAppInstalled().then(function(e){e?wechat.sendAuthRequest("snsapi_userinfo","homeschool").then(function(e){t.getAccessToken(e.code)}).catch(function(e){t.refs.toast.show('\u767b\u5f55\u6388\u6743\u53d1\u751f\u9519\u8bef\uff1a',e.message,[{text:'\u786e\u5b9a'}])}):t.refs.toast.show('\u6ca1\u6709\u5b89\u88c5\u5fae\u4fe1','\u8bf7\u5148\u5b89\u88c5\u5fae\u4fe1\u5ba2\u6237\u7aef\u5728\u8fdb\u884c\u767b\u5f55',[{text:'\u786e\u5b9a'}])})},t.state={status:0,msg:'',devid:S.default.GetDeviceID(),remenberpass:!0},t}return babelHelpers.inherits(n,e),babelHelpers.createClass(n,[{key:"componentDidMount",value:function(){var e=this;i.AsyncStorage.getItem('logininfo',function(t,n){var r=JSON.parse(n);!0===e.state.remenberpass&&null!==r&&(e.setState({textuser:r.phone}),e.setState({textpass:r.password}))}),y.default.request('photo',{rationale:{title:'\u83b7\u53d6\u76f8\u673a\u6743\u9650',message:"\u83b7\u53d6\u76f8\u673a\u548c\u76f8\u518c\u6743\u9650 so you can take awesome pictures."}}).then(function(t){e.setState({cameraPermission:t})})}},{key:"show",value:function(e){i.ToastAndroid.show(e,i.ToastAndroid.SHORT)}},{key:"pay",value:function(e){return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(E.default.isSupported());case 2:if(t.sent){t.next=6;break}return alertModel('\u627e\u4e0d\u5230\u5fae\u4fe1\u5e94\u7528\uff0c\u8bf7\u5b89\u88c5\u6700\u65b0\u7248\u5fae\u4fe1'),t.abrupt("return");case 6:return t.next=8,regeneratorRuntime.awrap(E.default.pay(e));case 8:0===t.sent.errCode?alertModel('\u652f\u4ed8\u6210\u529f'):alertModel('\u652f\u4ed8\u5931\u8d25');case 10:case"end":return t.stop()}},null,this)}},{key:"login",value:function(){var e=m.ExternalStorageDirectoryPath+'/gyzj';m.exists(e).then(function(t){0==t&&m.mkdir(e).then(function(e){console.log('DIRECTORY CREATED')}).catch(function(e){console.log(e.message)})});var t=this.state.textuser,n=this.state.textpass;null!==t&&void 0!==t&&''!==t?this._isemp(n)?this.refs.toast.show("\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a",1e3):this.loginconnect(t,n):this.refs.toast.show("\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7a7a",1e3)}},{key:"_isemp",value:function(e){return void 0===e||null==e||""==e}},{key:"loginconnect",value:function(e,t){var n=this,r={};r.Username=e,r.password=t;var a=new FormData;a.append("phone",e),a.append("password",t),a.append("imei",this.state.devid);var o=d.default.baseurl+'/user/appLogin';return k.show('\u52a0\u8f7d\u4e2d...',3e3),fetch(o,{method:"POST",headers:{ContentType:'application/x-www-form-urlencoded'},body:a}).then(function(e){return e.json()}).then(function(e){n.setState({status:e.resultFlag,msg:e.msg},function(){if(k.dismis(),this.refs.toast.show(this.state.msg,1e3),'1'===this.state.status){var t=e.data.user;i.AsyncStorage.setItem('logininfo',JSON.stringify(t),function(e){}),i.NativeModules.IntentModule.startActivityFromJS("com.gyzj.gyclient.GyHomePage",JSON.stringify(t))}})}).catch(function(e){k.dismis(),n.refs.toast.show('\u7f51\u7edc\u8fde\u63a5\u5931\u8d25',1e3),console.log(e.message)})}},{key:"_pressButtoon",value:function(){i.NativeModules.IntentModule.startActivityFromJS("com.gyzj.gyclient.SetpwdActivity","\u6211\u662f\u4eceJS\u4f20\u8fc7\u6765\u7684\u53c2\u6570\u4fe1\u606f.")}},{key:"render",value:function(){var e=this;return s.default.createElement(i.View,{style:I.containerlogin},s.default.createElement(i.Text,{style:I.icon_chinese},"\u5de5\u53cb\u4e4b\u5bb6"),s.default.createElement(i.View,null,s.default.createElement(i.Text,{style:I.text_username},"\u7528\u6237\u540d"),s.default.createElement(i.TextInput,{style:{alignItems:'center',marginStart:20,height:40,width:i.Dimensions.get('window').width-40,marginTop:8,marginEnd:20},placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",onChangeText:function(t){return e.setState({textuser:t})},value:this.state.textuser}),s.default.createElement(i.Text,{style:I.text_password},"\u5bc6\u7801"),s.default.createElement(i.TextInput,{style:{marginStart:20,alignItems:'center',height:40,width:i.Dimensions.get('window').width-40,marginTop:8,marginEnd:20},placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",secureTextEntry:!0,onChangeText:function(t){return e.setState({textpass:t})},value:this.state.textpass})),s.default.createElement(i.View,{style:I.btn_row},s.default.createElement(C.default,{label:'\u8bb0\u4f4f\u5bc6\u7801',checked:this.state.remenberpass,labelBefore:!0,checkedImage:t(a[13]),uncheckedImage:t(a[14]),onChange:function(t){e.setState({remenberpass:!t})},underlayColor:"transparent"}),s.default.createElement(i.TouchableOpacity,{onPress:this._pressButtoon.bind(this)},s.default.createElement(i.Text,{style:I.forget_password},"\u5fd8\u8bb0\u5bc6\u7801"))),s.default.createElement(u.default,{underlayColor:"#00000000",underlayTxtColor:"#FFFFFF",txtStyle:{color:'#FFFFFF',fontSize:18,textAlign:'center'},style:{height:40,width:F-80,padding:0,backgroundColor:b.default.main,borderRadius:4,marginTop:25},onPress:function(){return e.login()}},"\u767b\u5f55"),s.default.createElement(i.Text,{style:{marginTop:3,fontSize:9}}),s.default.createElement(R,null),s.default.createElement(p.default,{ref:"toast",position:"center"}))}}]),n})(o.Component));H.navigationOptions={drawerLabel:'Home',drawerIcon:function(e){var n=e.tintColor;return s.default.createElement(i.Image,{source:t(a[15]),style:[I.icon,{tintColor:n}]})}},r.default=H;var I=i.StyleSheet.create({wei_xin:{flexDirection:'row'},forget_password:{marginStart:20},btn_register:{marginTop:10,marginEnd:20},btn_row:{marginTop:10,flexDirection:'row',alignItems:'center'},containerlogin:{flex:1,justifyContent:'flex-start',alignItems:'center',backgroundColor:'#F5FCFF'},text_username:{left:10,fontSize:12,marginStart:20,marginTop:20},text_password:{left:14,fontSize:12,marginStart:20,marginTop:20},icon_pinyin:{fontSize:10,marginTop:4},icon_chinese:{fontSize:16,marginTop:100},icon:{width:50,height:50,marginTop:40},container:{flexDirection:'column',justifyContent:'flex-start',alignItems:'flex-start',backgroundColor:'#F5FCFF'},welcome:{},instructions:{textAlign:'center',color:'#333333',marginBottom:5},item:{padding:10,fontSize:18,height:44},btn:{margin:20,backgroundColor:'white',borderColor:'red',borderRadius:5,borderWidth:2},btntext:{color:'red',fontSize:20}})},763,[13,20,567,568,570,764,577,574,748,581,766,769,569,770,771,772]);