__d(function(e,t,n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=t(a[0]),o=babelHelpers.interopRequireDefault(i),l=t(a[1]),s=babelHelpers.interopRequireDefault(l),u=t(a[2]),c=babelHelpers.interopRequireDefault(u),g=t(a[3]),p={star:{source:t(a[4]),color:'#f1c40f',backgroundColor:'white'},heart:{source:t(a[5]),color:'#e74c3c',backgroundColor:'white'},rocket:{source:t(a[6]),color:'#2ecc71',backgroundColor:'white'},bell:{source:t(a[7]),color:'#f39c12',backgroundColor:'white'}},d=(function(e){function n(e){babelHelpers.classCallCheck(this,n);var t=babelHelpers.possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e)),r=t.props,a=r.onStartRating,i=r.onFinishRating,o=r.fractions,l=new g.Animated.ValueXY,s=g.PanResponder.create({onStartShouldSetPanResponder:function(){return!0},onPanResponderGrant:function(){'function'==typeof a&&a()},onPanResponderMove:function(e,n){var r=new g.Animated.ValueXY;r.setValue({x:n.dx,y:0}),t.setState({position:r,value:n.dx})},onPanResponderRelease:function(e){var n=t.getCurrentRating(t.state.value);n>=t.props.minValue&&(o||t.setCurrentRating(n),i(n))}});return t.state={panResponder:s,position:l,display:!1},t}return babelHelpers.inherits(n,e),babelHelpers.createClass(n,[{key:"componentDidMount",value:function(){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(t(a[4]));case 3:return e.sent,e.next=6,regeneratorRuntime.awrap(t(a[5]));case 6:return e.sent,e.next=9,regeneratorRuntime.awrap(t(a[6]));case 9:return e.sent,e.next=12,regeneratorRuntime.awrap(t(a[7]));case 12:e.sent,this.setState({display:!0}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:this.setCurrentRating(this.props.startingValue);case 20:case"end":return e.stop()}},null,this,[[0,16]])}},{key:"componentWillReceiveProps",value:function(e){e.startingValue!==this.props.startingValue&&this.setCurrentRating(e.startingValue)}},{key:"getPrimaryViewStyle",value:function(){var e=this.state.position,t=this.props,n=t.imageSize,r=t.ratingCount,a=t.type,i=p[a].color,o=e.x.interpolate({inputRange:[n/2*-r,0,r*(n/2)],outputRange:[0,r*n/2,r*n],extrapolate:'clamp'},{useNativeDriver:!0});return{backgroundColor:i,width:o,height:o?n:0}}},{key:"getSecondaryViewStyle",value:function(){var e=this.state.position,t=this.props,n=t.imageSize,r=t.ratingCount,a=t.type,i=p[a].backgroundColor,o=e.x.interpolate({inputRange:[n/2*-r,0,r*(n/2)],outputRange:[r*n,r*n/2,0],extrapolate:'clamp'},{useNativeDriver:!0});return{backgroundColor:i,width:o,height:o?n:0}}},{key:"renderRatings",value:function(){var e=this.props,t=e.imageSize,n=e.ratingCount,r=e.type,a=e.tintColor,i=p[r].source;return(0,o.default)(n,function(e){return s.default.createElement(g.View,{key:e,style:f.starContainer},s.default.createElement(g.Image,{source:i,style:{width:t,height:t,tintColor:a}}))})}},{key:"getCurrentRating",value:function(e){var t=this.props,n=t.fractions,r=t.imageSize,a=t.ratingCount,i=a/2,o=0;return e>a*r/2?o=a:e<-a*r/2?o=0:e<r||e>r?(o=i+e/r,o=n?+o.toFixed(n):Math.ceil(o)):o=n?+i.toFixed(n):Math.ceil(i),o}},{key:"setCurrentRating",value:function(e){var t=this.props,n=t.imageSize,r=t.ratingCount,a=null;a=e>r?r*n/2:e<0?-r*n/2:e<r/2||e>r/2?(e-r/2)*n:0;var i=new g.Animated.ValueXY;i.setValue({x:a,y:0}),this.setState({position:i,value:a})}},{key:"displayCurrentRating",value:function(){var e=this.props,t=e.ratingCount,n=e.type,r=e.readonly,a=e.ratingTextColor||p[n].color;return s.default.createElement(g.View,{style:f.showRatingView},s.default.createElement(g.View,{style:f.ratingView},s.default.createElement(g.Text,{style:[f.ratingText,{color:a}]},"Rating:",' '),s.default.createElement(g.Text,{style:[f.currentRatingText,{color:a}]},this.getCurrentRating(this.state.value)),s.default.createElement(g.Text,{style:[f.maxRatingText,{color:a}]},"/",t)),s.default.createElement(g.View,null,r&&s.default.createElement(g.Text,{style:[f.readonlyLabel,{color:a}]},"(readonly)")))}},{key:"render",value:function(){var e=this.props,t=e.readonly,n=e.type,r=e.ratingImage,a=e.ratingColor,i=e.ratingBackgroundColor,o=e.style,l=e.showRating;if('custom'===n){var u={source:r,color:a,backgroundColor:i};p.custom=u}return this.state.display?s.default.createElement(g.View,{pointerEvents:t?'none':'auto',style:o},l&&this.displayCurrentRating(),s.default.createElement(g.View,babelHelpers.extends({style:f.starsWrapper},this.state.panResponder.panHandlers),s.default.createElement(g.View,{style:f.starsInsideWrapper},s.default.createElement(g.Animated.View,{style:this.getPrimaryViewStyle()}),s.default.createElement(g.Animated.View,{style:this.getSecondaryViewStyle()})),this.renderRatings())):null}}]),n})(l.Component);d.defaultProps={type:'star',ratingImage:t(a[4]),ratingColor:'#f1c40f',ratingBackgroundColor:'white',ratingCount:5,imageSize:40,onFinishRating:function(){return console.log('Attach a onFinishRating function here.')},minValue:0},r.default=d;var f=g.StyleSheet.create({starsWrapper:{flexDirection:'row',justifyContent:'center',alignItems:'center'},starsInsideWrapper:{position:'absolute',top:0,left:0,right:0,bottom:0,flexDirection:'row',justifyContent:'center',alignItems:'center'},showRatingView:{flexDirection:'column',justifyContent:'center',alignItems:'center',paddingBottom:5},ratingView:{flexDirection:'row',justifyContent:'center',alignItems:'center',paddingBottom:5},ratingText:{fontSize:15,textAlign:'center',fontFamily:null,color:'#34495e'},readonlyLabel:{justifyContent:'center',alignItems:'center',fontSize:12,textAlign:'center',fontFamily:null,color:'#34495a'},currentRatingText:{fontSize:30,textAlign:'center',fontFamily:null},maxRatingText:{fontSize:18,textAlign:'center',fontFamily:null,color:'#34495e'}});d.propTypes={type:c.default.string,ratingImage:g.Image.propTypes.source,ratingColor:c.default.string,ratingBackgroundColor:c.default.string,ratingCount:c.default.number,ratingTextColor:c.default.string,imageSize:c.default.number,onStartRating:c.default.func,onFinishRating:c.default.func,showRating:c.default.bool,style:g.ViewPropTypes.style,readonly:c.default.bool,startingValue:c.default.number,fractions:function(e,t,n){if(e[t]){var r=e[t];return'number'==typeof r?r>=0&&r<=20?null:new Error("`"+t+"` in `"+n+"` must be between 0 and 20"):new Error("`"+t+"` in `"+n+"` must be a number")}},minValue:c.default.number}},551,[552,13,111,20,557,558,559,560]);