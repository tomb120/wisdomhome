__d(function(e,t,r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var l=t(a[0]),i=babelHelpers.interopRequireDefault(l),o=t(a[1]),s=t(a[2]),u=babelHelpers.interopRequireDefault(s),d=t(a[3]),c=babelHelpers.interopRequireDefault(d),f=t(a[4]),h=babelHelpers.interopRequireWildcard(f),m=t(a[5]),g=babelHelpers.interopRequireDefault(m),p=t(a[6]),b=babelHelpers.interopRequireDefault(p),y=t(a[7]),w=babelHelpers.interopRequireDefault(y),S=t(a[8]),x=(babelHelpers.interopRequireDefault(S),t(a[9])),E=t(a[10]),C=babelHelpers.interopRequireDefault(E),k=t(a[11]),v=(babelHelpers.interopRequireDefault(k),[]),T=o.Dimensions.get('window'),D=T.width,R=(T.height,o.NativeModules.EventEmitterManager),I=new o.NativeEventEmitter(R),j=new o.ListView.DataSource({rowHasChanged:function(e,t){return e!=t}}),V=null,O=(function(e){function t(e){babelHelpers.classCallCheck(this,t);var r=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={dataSource:j.cloneWithRows(v),builtSiteAddress:''},r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentWillUnmount",value:function(){this.listener.remove()}},{key:"componentDidMount",value:function(){var e=this;o.AsyncStorage.getItem('logininfo',function(t,r){V=JSON.parse(r),e.queryorder("")}),this.listener=u.default.addListener('noticedata',function(t){e.findUserWorkOrderListByType()}),this.remoteNoti=I.addListener('RemoteNoti',function(t){return e.androidComeFrom(t)})}},{key:"androidComeFrom",value:function(e){console.log(e)}},{key:"fetchfilterData",value:function(e,t,r,n){var a=this,l=h.baseurl+"";return fetch(l,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){a.setState({status:e.status,msg:e.msg},function(){this.refs.toast.show(this.state.msg),1==this.state.status&&null!==v&&'undefined'!==v&&(v.splice(r,1),this.setState({dataSource:j.cloneWithRows(v)}),parseInt(r)!==V.length&&n[""+t+r].closeRow())})}).catch(function(e){console.log(e.message)})}},{key:"queryorder",value:function(e){var t=this,r=h.baseurl+"/buildProject/findBuildProjectOrderList?userIdFk="+V.userId;return fetch(r,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){t.setState({status:e.resultFlag,msg:e.msg},function(){if(this.refs.toast.show(this.state.msg,1e3),1==this.state.status){var t=e.data.buildProjectInfoTableList;null!==t&&void 0!==t&&'[]'!==e.data&&this.setState({dataSource:j.cloneWithRows(t)})}})}).catch(function(e){console.log(e.message)})}},{key:"findUserWorkOrderById",value:function(e){var t=this,r=h.baseurl+"/buildProject/findUserWorkOrderById?workOrderId="+e;return fetch(r,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){t.setState({status:e.resultFlag,msg:e.msg},function(){if(1==this.state.status){var t=e.data.userWorkOrderInfoTableList;null!==t&&void 0!==t&&'[]'!==e.data&&(this.setState({builtSiteAddress:t.builtSiteAddress}),this.setState({visible:!0}))}})}).catch(function(e){console.log(e.message)})}},{key:"addUserWorkOrder",value:function(e){var t=this,r=new FormData;r.append('userIdFk',V.userId),r.append('builtProjectIdFk',e.builtProjectId);var n=h.baseurl+"/buildProject/addUserWorkOrder";return x.EasyLoading.show('\u6b63\u5728\u63d0\u4ea4...',3e3),fetch(n,{method:"POST",headers:{ContentType:'application/x-www-form-urlencoded'},body:r}).then(function(e){return e.json()}).then(function(e){x.EasyLoading.dismis(),t.setState({status:e.resultFlag,msg:e.msg},function(){this.refs.toast.show(this.state.msg,1e3),this.state.status})}).catch(function(e){x.EasyLoading.dismis(),console.log(e.message)})}},{key:"render",value:function(){var e=this;return i.default.createElement(o.View,{style:H.container},i.default.createElement(C.default,{visible:this.state.visible,onTouchOutside:function(){e.setState({visible:!1})}},i.default.createElement(E.DialogTitle,{titleStyle:{backgroundColor:w.default.main,height:40},titleTextStyle:{fontSize:16},title:"\u8be6\u60c5"}),i.default.createElement(E.DialogContent,null,i.default.createElement(o.View,{style:H.roleContainer},i.default.createElement(o.Text,{style:{color:w.default.subtitle,fontSize:17}},"\u8be6\u7ec6\u5730\u5740:"),i.default.createElement(o.Text,{style:{color:w.default.subtitle,fontSize:17}},this.state.builtSiteAddress)))),i.default.createElement(o.View,{style:H.containerbox},i.default.createElement(o.View,{style:H.searchBox},i.default.createElement(o.Image,{source:{uri:'icon_2_23'},style:H.searchIcon}),i.default.createElement(o.TextInput,{style:H.inputText,autoCapitalize:"none",underlineColorAndroid:"transparent",placeholderTextColor:'#aaa',placeholder:"\u8f93\u5165\u4e3b\u9898\u8fdb\u884c\u68c0\u7d22",onChangeText:function(t){return e.queryorder(t)}}))),i.default.createElement(c.default,{dataSource:this.state.dataSource,renderHiddenRow:function(t,r,n,a){return i.default.createElement(o.View,{style:H.rowBack},i.default.createElement(o.View,{style:H.leftView},i.default.createElement(o.Text,{style:{backgroundColor:'red'}},"Right")),i.default.createElement(o.TouchableOpacity,{onPress:e.addUserWorkOrder.bind(e,t)},i.default.createElement(o.View,{style:H.leftView},i.default.createElement(o.Text,{style:{color:'white',fontSize:17}},"\u63a5\u5355"))))},leftOpenValue:75,rightOpenValue:-75,renderRow:this.renderRow.bind(this),disableLeftSwipe:!1,disableRightSwipe:!0}),i.default.createElement(g.default,{ref:"toast",position:"center"}))}},{key:"_pressitem",value:function(e){}},{key:"renderRow",value:function(e,t,r,n){var a=this;return i.default.createElement(o.View,{style:H.contentViewStyle},i.default.createElement(o.TouchableOpacity,{style:H.itemStyleall,onPress:function(){a._pressitem(e)}},i.default.createElement(o.View,{style:H.itemStyleall},i.default.createElement(o.View,{style:H.itemStyle},i.default.createElement(o.Text,{style:{fontSize:14,textColor:'black',flexWrap:'wrap'}},e.projectName),i.default.createElement(o.Text,{style:{fontSize:13,textColor:'gray'}},(0,b.default)(e.projectDayStartTime).format('YYYY-MM-DD HH:MM'))),i.default.createElement(o.View,{style:H.itemStyle},i.default.createElement(o.Text,{style:{fontSize:14,textColor:'black',flexWrap:'wrap'}},e.typeName),i.default.createElement(o.Text,{style:{fontSize:13,textColor:'gray'}},"\u4eba\u6570:",e.employeeNum)),i.default.createElement(o.View,{style:H.itemStyle},i.default.createElement(o.Text,{style:{fontSize:14,textColor:'black',flexWrap:'wrap'}},e.builtSiteAddress),i.default.createElement(o.Text,{style:{fontSize:13,textColor:'gray'}},'\u8ddd\u79bb:'+e.distance+'km')))))}}]),t})(l.Component);n.default=O;var H=o.StyleSheet.create({container:{flexDirection:'column',flex:1,paddingTop:27,paddingBottom:5,marginBottom:5,alignItems:'center',backgroundColor:'#fff',borderBottomWidth:o.StyleSheet.hairlineWidth,borderBottomColor:'#cdcdcd'},containerbox:{flexDirection:'row',alignItems:'center',backgroundColor:'#fff'},searchBox:{height:40,flex:1,marginLeft:10,marginBottom:5,flexDirection:'row',backgroundColor:'#E6E7E8',borderRadius:20},searchIcon:{alignSelf:'center',marginLeft:7,marginRight:7,width:25,height:25},inputText:{alignSelf:'center',height:40,flex:1,marginLeft:5,fontSize:16,textAlignVertical:'center',textDecorationLine:'none'},contentViewStyle:{alignItems:'center',backgroundColor:'white',borderBottomWidth:1,borderBottomColor:'gray'},itemStyleall:{flexDirection:'column',justifyContent:'space-between',backgroundColor:'white',alignItems:'center',width:D,height:85},itemStyle:{paddingLeft:15,paddingRight:15,flexDirection:'row',justifyContent:'space-between',backgroundColor:'white',alignItems:'center',width:D,height:30},rowBack:{paddingRight:12,paddingLeft:15,alignItems:'center',backgroundColor:'#DDD',flexDirection:'row',justifyContent:'space-between',flex:1},leftView:{width:75,alignItems:'center',backgroundColor:'red',height:70,justifyContent:'center',borderRadius:5}})},810,[13,20,37,780,568,570,578,577,567,569,782,798]);