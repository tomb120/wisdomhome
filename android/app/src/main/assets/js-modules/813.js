__d(function(e,t,r,o,n){Object.defineProperty(o,"__esModule",{value:!0}),o.RefreshState=void 0;var s=t(n[0]),a=babelHelpers.interopRequireDefault(s),f=t(n[1]),i=o.RefreshState={Idle:0,HeaderRefreshing:1,FooterRefreshing:2,NoMoreData:3,Failure:4,EmptyData:5},l=function(e){},h=(function(e){function t(){var e,r,o,n;babelHelpers.classCallCheck(this,t);for(var s=arguments.length,h=Array(s),d=0;d<s;d++)h[d]=arguments[d];return r=o=babelHelpers.possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(h))),o.onHeaderRefresh=function(){l('[RefreshListView]  onHeaderRefresh'),o.shouldStartHeaderRefreshing()&&(l('[RefreshListView]  onHeaderRefresh'),o.props.onHeaderRefresh(i.HeaderRefreshing))},o.onEndReached=function(e){l('[RefreshListView]  onEndReached   '+e.distanceFromEnd),o.shouldStartFooterRefreshing()&&(l('[RefreshListView]  onFooterRefresh'),o.props.onFooterRefresh&&o.props.onFooterRefresh(i.FooterRefreshing))},o.shouldStartHeaderRefreshing=function(){return l('[RefreshListView]  shouldStartHeaderRefreshing'),o.props.refreshState!=i.HeaderRefreshing&&o.props.refreshState!=i.FooterRefreshing},o.shouldStartFooterRefreshing=function(){l('[RefreshListView]  shouldStartFooterRefreshing');var e=o.props,t=e.refreshState;return 0!=e.data.length&&t==i.Idle},o.renderFooter=function(){var e=null,t=o.props,r=t.footerRefreshingText,n=t.footerFailureText,s=t.footerNoMoreDataText,l=t.footerEmptyDataText,h=t.footerRefreshingComponent,d=t.footerFailureComponent,c=t.footerNoMoreDataComponent,u=t.footerEmptyDataComponent;switch(o.props.refreshState){case i.Idle:e=a.default.createElement(f.View,{style:p.footerContainer});break;case i.Failure:e=a.default.createElement(f.TouchableOpacity,{onPress:function(){0==o.props.data.length?o.props.onHeaderRefresh&&o.props.onHeaderRefresh(i.HeaderRefreshing):o.props.onFooterRefresh&&o.props.onFooterRefresh(i.FooterRefreshing)}},d||a.default.createElement(f.View,{style:p.footerContainer},a.default.createElement(f.Text,{style:p.footerText},n)));break;case i.EmptyData:e=a.default.createElement(f.TouchableOpacity,{onPress:function(){o.props.onHeaderRefresh&&o.props.onHeaderRefresh(i.HeaderRefreshing)}},u||a.default.createElement(f.View,{style:p.footerContainer},a.default.createElement(f.Text,{style:p.footerText},l)));break;case i.FooterRefreshing:e=h||a.default.createElement(f.View,{style:p.footerContainer},a.default.createElement(f.ActivityIndicator,{size:"small",color:"#888888"}),a.default.createElement(f.Text,{style:[p.footerText,{marginLeft:7}]},r));break;case i.NoMoreData:e=c||a.default.createElement(f.View,{style:p.footerContainer},a.default.createElement(f.Text,{style:p.footerText},s))}return e},n=r,babelHelpers.possibleConstructorReturn(o,n)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentWillReceiveProps",value:function(e){l('[RefreshListView]  RefreshListView componentWillReceiveProps '+e.refreshState)}},{key:"componentDidUpdate",value:function(e,t){l('[RefreshListView]  RefreshListView componentDidUpdate '+e.refreshState)}},{key:"render",value:function(){l('[RefreshListView]  render  refreshState:'+this.props.refreshState);var e=this.props,t=e.renderItem,r=babelHelpers.objectWithoutProperties(e,["renderItem"]);return a.default.createElement(f.FlatList,babelHelpers.extends({ref:this.props.listRef,onEndReached:this.onEndReached,onRefresh:this.onHeaderRefresh,refreshing:this.props.refreshState==i.HeaderRefreshing,ListFooterComponent:this.renderFooter,onEndReachedThreshold:.1,renderItem:t},r))}}]),t})(s.PureComponent);h.defaultProps={footerRefreshingText:'\u6570\u636e\u52a0\u8f7d\u4e2d\u2026',footerFailureText:'\u70b9\u51fb\u91cd\u65b0\u52a0\u8f7d',footerNoMoreDataText:'\u5df2\u52a0\u8f7d\u5168\u90e8\u6570\u636e',footerEmptyDataText:'\u6682\u65f6\u6ca1\u6709\u76f8\u5173\u6570\u636e'};var p=f.StyleSheet.create({footerContainer:{flex:1,flexDirection:'row',justifyContent:'center',alignItems:'center',padding:10,height:44},footerText:{fontSize:14,color:'#555555'}});o.default=h},813,[13,20]);