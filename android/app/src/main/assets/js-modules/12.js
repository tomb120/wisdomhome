__d(function(e,t,n,a,o){Object.defineProperty(a,"__esModule",{value:!0});var i=t(o[0]),r=babelHelpers.interopRequireDefault(i),l=t(o[1]),s=babelHelpers.interopRequireDefault(l),d=t(o[2]),u=t(o[3]),c=t(o[4]),h=babelHelpers.interopRequireDefault(c),f=t(o[5]),p=babelHelpers.interopRequireDefault(f),m=t(o[6]),g=babelHelpers.interopRequireWildcard(m),y=t(o[7]),w=t(o[8]),b=babelHelpers.interopRequireDefault(w),v=t(o[9]),C=babelHelpers.interopRequireDefault(v),x=(t(o[10]),t(o[11])),E=(babelHelpers.interopRequireDefault(x),t(o[12])),S=babelHelpers.interopRequireDefault(E),T=t(o[13]),k=babelHelpers.interopRequireDefault(T),D=t(o[14]),_=(babelHelpers.interopRequireDefault(D),t(o[15])),R=babelHelpers.interopRequireDefault(_),L=t(o[16]),A=babelHelpers.interopRequireWildcard(L),B=t(o[17]),V=babelHelpers.interopRequireDefault(B),H=t(o[18]),I=(babelHelpers.interopRequireDefault(H),d.Dimensions.get('window').width),P=null,j=d.Dimensions.get('window'),F=j.width,W=j.height,q=t(o[19]),M=[],O=(t(o[20]),(function(e){function t(e){babelHelpers.classCallCheck(this,t);var n=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={textuser:'',textpass:'',count:60,resultMessage:''},n.onBackButtonPressAndroid=function(){return!0===n.state.viewAppear&&(n._stopScan(),n.setState({viewAppear:!1}),!0)},n._onBarCodeRead=function(e){n._stopScan(),n.setState({viewAppear:!1}),n.setState({referee:e.nativeEvent.data.code})},n._startScan=function(e){n._barCode.startScan()},n._stopScan=function(e){n._barCode.stopScan()},n._onPOISearchDone=function(e){console.log('----_onPOISearchDone----:',e);try{e.searchResultList.length>0&&n.setState({dataArray:e.searchResultList,postionlist:e.searchResultList[0],userAddress:e.searchResultList[0].address})}catch(e){console.log(e)}},n._onLocationResult=function(e){console.log("_onLocationResult...result",e),n.setState({searchArray:e.searchResultList})},n._onDidMoveByUser=function(e){n.setState({longitude:e.nativeEvent.data.centerCoordinate.longitude,latitude:e.nativeEvent.data.centerCoordinate.latitude}),n._searchNearBy(e.nativeEvent.data.centerCoordinate.latitude,e.nativeEvent.data.centerCoordinate.longitude)},n.cameraAction=function(){h.default.showImagePicker({title:'\u8bf7\u9009\u62e9',cancelButtonTitle:'\u53d6\u6d88',takePhotoButtonTitle:'\u62cd\u7167',chooseFromLibraryButtonTitle:'\u9009\u62e9\u76f8\u518c',quality:.75,maxWidth:600,maxHeight:600,allowsEditing:!0,noData:!1,storageOptions:{skipBackup:!0,path:'images'}},function(e){if(console.log('Response = ',e),e.didCancel)console.log('User cancelled image picker');else if(e.error)console.log('ImagePicker Error: ',e.error);else if(e.customButton)console.log('User tapped custom button: ',e.customButton);else{var t={uri:e.uri};n.setState({avatarSource:t});var a=e.uri,o=[{mime:'',path:""+a}],i=a.split('.');i.length>1&&(o.mime="."+i[i.length-1],n.fileUpload(o))}})},n.clickGetMsgCode=function(){var e=n.data.mobile.trim();n.isEmptyPhone(e)&&(n.countDownTimer(),n.verifycode())},n._separator=function(){return r.default.createElement(d.Text,{style:{height:0}})},n._adjustType=function(){return{right:0,top:99}},n.data={mobile:'',verCode:'',pwd:'',invitCode:'',isSubmiting:!1},n.state={message:"aaa",inviteCode:'',headPortraitUrl:'',name:'',type:'',isshow:!1,registerDate:'',builtsiteaddress:'',avatarSource:{uri:'icon_102'},postionlist:[],userAddress:'\u8bf7\u9009\u62e9\u5730\u70b9',longitude:110.381077,latitude:33.931822,viewAppear:!1,age:20,typeall:[],typeId:'',workage:3,referee:'',loaded:!1,keywords:'\u5546\u52a1\u4f4f\u5b85|\u5b66\u6821',dataArray:[],isHidden:!0,showBtn:!0,countDownValue:R.default.CountDownTime,phoneChanged:!1},n}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentWillUnmount",value:function(){this.timer&&clearTimeout(this.timer),A.removeEventListener('hardwareBackPress',this.onBackButtonPressAndroid)}},{key:"componentDidMount",value:function(){this.findAllWorkTypen(),A.addEventListener('hardwareBackPress',this.onBackButtonPressAndroid),V.default.requestMultiplePermission(),d.NativeAppEventEmitter.addListener('amap.onPOISearchDone',this._onPOISearchDone),d.NativeAppEventEmitter.addListener('amap.location.onLocationResult',this._onLocationResult),this.getCurrentPosition()}},{key:"getCurrentPosition",value:function(){var e=this;q.getCurrentPosition(function(t){console.log('---location----:',t);var n={latitude:t.coords.latitude,longitude:t.coords.longitude};e._amap.setCenterCoordinate(n),e.setState({longitude:t.coords.longitude,latitude:t.coords.latitude,loaded:!0},function(){setTimeout(function(){e.setState({isHidden:!1})},200)})},function(e){alert("\u83b7\u53d6\u4f4d\u7f6e\u5931\u8d25")})}},{key:"_onstartbarcode",value:function(){this.setState({viewAppear:!0})}},{key:"_searchNearBy",value:function(e,t){var n={page:1,coordinate:{latitude:e,longitude:t},keywords:this.state.keywords};this._amap.searchPoiByCenterCoordinate(n)}},{key:"_pressButton",value:function(){this.props.navigator;this.props.navigation.navigate('Reg',{name:'Lucy'})}},{key:"findAllWorkTypen",value:function(){var e=this,t=g.baseurl+"/workType/findAllWorkType";return fetch(t,{method:"get",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){e.setState({status:t.resultFlag,msg:t.msg},function(){if(1==this.state.status){var e=t.data.workTypeList;if(null!==e&&void 0!==e&&'[]'!==e){var n=[],a=e,o=Array.isArray(a),i=0;for(a=o?a:a["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var r;if(o){if(i>=a.length)break;r=a[i++]}else{if((i=a.next()).done)break;r=i.value}var l=r;n.push(l.typeName),M[l.typeName]=l.typeId}this.setState({typeall:n})}}})}).catch(function(e){console.log(e.message)})}},{key:"register",value:function(){var e=this,t=this.data.name,n=this.data.mobile,a=this.data.verCode,o=this.data.pwd;if(null!==t&&void 0!==t&&''!==t)if(null!==n&&void 0!==n&&''!==n)if(null!==o&&void 0!==o&&''!==o)if(null!==a&&void 0!==a&&''!==a){if(null!==P&&void 0!==P&&''!==P){var i=new FormData,r={};r.Age=this.state.age,r.workAge=this.state.workage,r.longitude=this.state.longitude,r.latitude=this.state.latitude,r.userAddress=this.state.userAddress,r.userRank=0,i.append('userExtendStr',JSON.stringify(r)),i.append('name',this.data.name),i.append('password',this.data.pwd),i.append('phone',this.data.mobile),i.append('type',1),i.append('verifyCode',this.data.verCode),i.append('status',0),i.append('typeId',M[this.state.typeName]),i.append('inviteCode',this.data.inviteCode),i.append('headPortraitUrl','http://image.hjninan.com/'+P);var l=g.baseurl+"/user/register";return y.EasyLoading.show('\u6b63\u5728\u63d0\u4ea4...',3e3),fetch(l,{method:"POST",headers:{ContentType:'application/x-www-form-urlencoded'},body:i}).then(function(e){return e.json()}).then(function(t){y.EasyLoading.dismis(),e.setState({status:t.resultFlag,msg:t.msg},function(){this.refs.toast.show(this.state.msg,1e3),1==this.state.status&&d.NativeModules.IntentModule.startActivityFromJS("com.gyzj.gyclient.LoginActivity",'')})}).catch(function(t){y.EasyLoading.dismis(),console.log(t.message),e.refs.toast.show('\u8fde\u63a5\u670d\u52a1\u5668\u8d85\u65f6',1e3)})}this.refs.toast.show("\u5934\u50cf\u4e0d\u80fd\u4e3a\u7a7a",1e3)}else this.refs.toast.show("\u9a8c\u8bc1\u7801\u4e0d\u80fd\u4e3a\u7a7a",1e3);else this.refs.toast.show("\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a",1e3);else this.refs.toast.show("\u624b\u673a\u53f7\u4e0d\u80fd\u4e3a\u7a7a",1e3);else this.refs.toast.show("\u59d3\u540d\u4e0d\u80fd\u4e3a\u7a7a",1e3)}},{key:"fileUpload",value:function(e){var t=this;try{var n=new FormData;if(!e.length)return{success:!1,message:'\u672a\u9009\u62e9\u6587\u4ef6'};for(var a=0;a<e.length;a++){var o=e[a].path,i=o.split('/'),r={uri:o,type:'application/octet-stream',name:escape(i[i.length-1])};n.append("file",r),n.append("key",escape(i[i.length-1])),n.append("token",g.uploadtoken)}console.log(n);y.EasyLoading.show('\u4e0a\u4f20\u4e2d...',3e3);fetch('https://up.qiniup.com',{method:'POST',headers:{},body:n,contentType:!1,processData:!1}).then(function(e){return e.json()}).then(function(e){y.EasyLoading.dismis(),t.refs.toast.show(e.key,1e3),P=e.key,d.AsyncStorage.setItem('picinfo',P)}).catch(function(e){y.EasyLoading.dismis(),console.log(e.message)})}catch(e){console.log(e)}}},{key:"msgCodeButtonView",value:function(){return this.state.showBtn?r.default.createElement(d.Text,{style:{color:k.default.main,fontSize:14}},"\u83b7\u53d6\u77ed\u4fe1\u9a8c\u8bc1\u7801"):r.default.createElement(d.Text,{style:{color:k.default.tint,fontSize:14}},this.state.countDownValue,"s\u540e\u91cd\u65b0\u83b7\u53d6")}},{key:"verifycode",value:function(){var e=this,t=g.baseurl+"/user/sendPhoneVerifyCode?phone="+this.data.mobile;return fetch(t,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){e.setState({status:t.status,msg:t.msg},function(){1==this.state.status?this.refs.toast.show('\u77ed\u4fe1\u9a8c\u8bc1\u7801\u83b7\u53d6\u6210\u529f',1e3):this.refs.toast.show(this.state.msg)})}).catch(function(t){console.log(t.message),e.refs.toast.show('\u8fde\u63a5\u670d\u52a1\u5668\u8d85\u65f6',1e3)})}},{key:"countDownTimer",value:function(){var e=this;this.setState({showBtn:!1}),this.interval=setInterval(function(){var t=e.state.countDownValue-1;0===t?(e.interval&&clearInterval(e.interval),e.setState({showBtn:!0,countDownValue:R.default.CountDownTime})):e.setState({countDownValue:t})},1e3)}},{key:"componentWillUnmount",value:function(){this.interval&&clearInterval(this.interval)}},{key:"isEmptyPhone",value:function(e){return null==e||''==e?(this.refs.toast.show('\u8bf7\u8f93\u5165\u624b\u673a\u53f7',1e3),!1):!!V.default.isPhoneNumber(e)||(this.refs.toast.show('\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7',1e3),!1)}},{key:"_dropdown_willShow",value:function(){this.setState({isshow:!0})}},{key:"_dropdown_willHide",value:function(){this.setState({isshow:!1})}},{key:"render",value:function(){var e=this;return r.default.createElement(d.View,{style:{flex:1}},this.state.viewAppear?r.default.createElement(S.default,{style:{flex:1},ref:function(t){return e._barCode=t},onBarCodeRead:this._onBarCodeRead}):r.default.createElement(d.ScrollView,{scrollsToTop:!1,style:z.menu},r.default.createElement(d.View,{style:z.classsetcontainer},r.default.createElement(d.View,{style:[z.classContainer,{paddingLeft:30,justifyContent:'space-between'}]},r.default.createElement(d.Text,{style:[z.text]},"\u6ce8\u518c\u5e10\u6237"),r.default.createElement(d.Text,{style:[z.text,{color:k.default.main}]},"\u5df2\u6709\u5e10\u6237\u767b\u5f55")),r.default.createElement(d.View,{style:z.inputView},r.default.createElement(d.Text,{style:z.text},"\u7528\u6237\u540d"),r.default.createElement(d.TextInput,{style:z.textinput,maxLength:11,clearButtonMode:"while-editing",returnKeyType:"done",underlineColorAndroid:"transparent",placeholderTextColor:k.default.subtitle,placeholder:"\u8bf7\u8bbe\u7f6e\u7528\u6237\u540d",onChangeText:function(t){e.data.name=t}})),r.default.createElement(d.View,{style:z.inputView},r.default.createElement(d.Text,{style:z.text},"\u624b\u673a\u53f7"),r.default.createElement(d.TextInput,{style:z.textinput,maxLength:11,keyboardType:"numeric",clearButtonMode:"while-editing",returnKeyType:"done",underlineColorAndroid:"transparent",placeholderTextColor:k.default.subtitle,placeholder:"\u53ef\u7528\u4e8e\u767b\u5f55\u548c\u627e\u56de\u5bc6\u7801",onChangeText:function(t){e.data.mobile=t}})),r.default.createElement(d.View,{style:z.inputView},r.default.createElement(d.Text,{style:z.text},"\u5bc6\u7801"),r.default.createElement(d.TextInput,{style:z.textinput,clearButtonMode:"while-editing",returnKeyType:"done",maxLength:16,underlineColorAndroid:"transparent",secureTextEntry:!0,placeholderTextColor:k.default.subtitle,placeholder:"\u8bbe\u7f6e\u767b\u5f55\u5bc6\u7801\uff086-16\u4f4d\uff09",onChangeText:function(t){e.data.pwd=t}})),r.default.createElement(d.View,{style:z.inputView},r.default.createElement(d.Text,{style:z.text},"\u77ed\u4fe1\u9a8c\u8bc1\u7801"),r.default.createElement(d.View,{style:z.arrowContainer},r.default.createElement(d.TextInput,{ref:"msgCode",style:[z.textinput,{width:90}],clearButtonMode:"while-editing",returnKeyType:"done",keyboardType:"numeric",underlineColorAndroid:"transparent",placeholderTextColor:k.default.subtitle,placeholder:"\u8f93\u5165\u77ed\u4fe1\u9a8c\u8bc1\u7801",onChangeText:function(t){e.data.verCode=t}}),r.default.createElement(d.TouchableHighlight,{onPress:this.clickGetMsgCode,activeOpacity:1,underlayColor:k.default.transparentColor,style:{flexDirection:'row',marginRight:10,borderRadius:5}},r.default.createElement(d.View,{style:{backgroundColor:1==this.state.showBtn?k.default.background:k.default.inactiveRemind,justifyContent:'center',alignItems:'center',width:110,height:40,borderWidth:1,borderColor:k.default.main,borderRadius:5}},r.default.createElement(d.View,null,this.msgCodeButtonView()))))),r.default.createElement(d.View,{style:z.classContainer},r.default.createElement(d.View,{style:z.smsmessage},r.default.createElement(s.default,{onDropdownWillShow:this._dropdown_willShow.bind(this),onDropdownWillHide:this._dropdown_willHide.bind(this),textStyle:z.dropdown,style:z.dropbutton,dropdownStyle:{width:50},defaultValue:'\u64c5\u957f\u5de5\u79cd',options:this.state.typeall,onSelect:function(t,n){return e.setState({typeName:n})}})),r.default.createElement(d.View,{style:z.smsmessage},r.default.createElement(s.default,{onDropdownWillShow:this._dropdown_willShow.bind(this),onDropdownWillHide:this._dropdown_willHide.bind(this),textStyle:z.dropdown,style:z.dropbutton,dropdownStyle:{width:40},defaultValue:'\u5e74\u9f84',options:['20','21','22','23','24','25','26','27','28','29','30','31','32','33','34','35','36','37','38','39','40','41','42','43','44','45','46','47','48','49','50','51','52','53','54','55','56','57','58','59','60'],onSelect:function(t,n){return e.setState({age:n})}}))),r.default.createElement(d.View,{style:z.classContainer},r.default.createElement(d.View,{style:z.smsmessage},r.default.createElement(s.default,{onDropdownWillShow:this._dropdown_willShow.bind(this),onDropdownWillHide:this._dropdown_willHide.bind(this),Dropdown:!0,textStyle:z.dropdown,style:z.dropbutton,dropdownStyle:{width:50},defaultValue:'\u5de5\u4f5c\u5e74\u9650',options:['1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','22','20','21','22','23','24','25','26','27','28','29','30','31','32','33','34','35','36','37','38','39','40'],onSelect:function(t,n){return e.setState({workage:n})}})),r.default.createElement(d.View,{style:z.smsmessage},r.default.createElement(d.TextInput,{style:[z.textinput,{width:100}],maxLength:11,clearButtonMode:"while-editing",returnKeyType:"done",underlineColorAndroid:"transparent",placeholderTextColor:k.default.subtitle,placeholder:"\u63a8\u8350\u4eba",onChangeText:function(t){e.data.inviteCode=t}}),r.default.createElement(d.TouchableOpacity,{onPress:this._onstartbarcode.bind(this)},r.default.createElement(d.Image,{style:z.arrow,source:{uri:'icon_103'}})))),r.default.createElement(d.View,{style:z.exercisemap},r.default.createElement(d.View,{style:z.classContainer},r.default.createElement(d.View,{style:z.smsmessage},r.default.createElement(d.Text,{style:z.name},"\u5e38\u7528\u4f4f\u5740"),r.default.createElement(d.Image,{style:z.arrow,source:{uri:'icon_104'}})),r.default.createElement(d.Text,{style:z.name},this.state.userAddress)),r.default.createElement(d.View,{style:{flexDirection:'column',height:120}},r.default.createElement(C.default,{ref:function(t){return e._amap=t},style:{width:F,height:W/4,marginTop:5},options:{frame:{width:F,height:W/3},showsUserLocation:!0,userTrackingMode:null,centerCoordinate:{latitude:this.state.latitude,longitude:this.state.longitude},zoomLevel:18.1,centerMarker:'icon_104'},onLayout:this._onLayout,onDidMoveByUser:this._onDidMoveByUser})),r.default.createElement(u.Divider,null)),r.default.createElement(d.View,{style:z.divContainer},r.default.createElement(d.TouchableOpacity,{onPress:function(){return e.cameraAction()}},r.default.createElement(d.Text,{style:z.name},"\u4e2a\u4eba\u5934\u50cf"),r.default.createElement(d.Image,{style:{marginTop:10,width:I-50,height:260},source:this.state.avatarSource}))),r.default.createElement(p.default,{underlayColor:"blue",underlayTxtColor:"gray",txtStyle:{color:'white',fontSize:15,textAlign:'left'},style:z.btnc,onPress:function(){return e.register()}},"\u6ce8\u518c")),r.default.createElement(y.Loading,null),r.default.createElement(b.default,{ref:"toast",position:"center"})))}}]),t})(i.Component));a.default=O;var z=d.StyleSheet.create({menu:{flex:1,backgroundColor:'white'},classsetcontainer:{flexDirection:'column',justifyContent:'space-around',alignItems:'center',backgroundColor:'#F5FCFF',width:F,marginBottom:15},smsmessage:{flexDirection:'row',justifyContent:'flex-start',alignItems:'center'},classContainer:{paddingLeft:15,paddingRight:15,flexDirection:'row',width:I,alignItems:'center',borderBottomWidth:.5,borderBottomColor:k.default.gray,height:40,justifyContent:'space-around'},classlogo:{marginLeft:5,fontSize:16,color:'gray'},arrowContainer:{flexDirection:'row',justifyContent:'flex-start',alignItems:'center',height:45},arrow:{height:30,width:30},divContainer:{flexDirection:'column',justifyContent:'flex-start',backgroundColor:'#FFFFFF',alignItems:'center',height:300,width:F-20,borderWidth:.5,borderColor:k.default.gray,borderRadius:5},btnc:{marginTop:20,height:40,width:.6666666666666666*F,padding:0,backgroundColor:'skyblue',borderRadius:6},cominputText:{height:50,marginLeft:5,width:200,marginRight:5,fontSize:14,textAlignVertical:'center',textDecorationLine:'none'},exercisemap:{flex:1,flexDirection:'column',justifyContent:'flex-start',backgroundColor:'#fff',paddingLeft:15,paddingRight:15},name:{fontSize:15,textAlign:'center'},inputText:{height:50,fontSize:16,textAlignVertical:'center',textDecorationLine:'none'},containerbox:{marginLeft:15,flexDirection:'row',justifyContent:'space-around',backgroundColor:'#fff'},roleContainer:{flexDirection:'row',paddingLeft:15,paddingRight:15,width:I,alignItems:'center',height:40,justifyContent:'space-around'},itemstyle:{flexDirection:'row',paddingLeft:15,paddingRight:15,alignItems:'center',height:25,justifyContent:'space-around'},dropdown:{fontSize:16,color:k.default.title},text:{color:k.default.title,fontSize:14},inputView:{flexDirection:'row',borderBottomWidth:.5,alignItems:'center',width:F,paddingLeft:50,paddingRight:15,justifyContent:'space-around',borderColor:k.default.gray},textinput:{color:k.default.subtitle,marginHorizontal:10,height:50,width:F/2,fontSize:13,padding:0},dropbutton:{backgroundColor:'#F5FCFF',borderColor:k.default.subtitle,borderRadius:2,borderWidth:.5,paddingLeft:10,paddingRight:10}})},12,[13,18,20,308,566,567,568,569,570,571,111,574,576,577,578,579,286,580,581,92,584]);