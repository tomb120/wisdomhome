__d(function(e,t,a,n,o){Object.defineProperty(n,"__esModule",{value:!0});var i=t(o[0]),r=babelHelpers.interopRequireDefault(i),l=t(o[1]),s=t(o[2]),u=babelHelpers.interopRequireDefault(s),d=t(o[3]),c=babelHelpers.interopRequireDefault(d),f=t(o[4]),p=babelHelpers.interopRequireDefault(f),m=t(o[5]),h=babelHelpers.interopRequireDefault(m),y=t(o[6]),g=babelHelpers.interopRequireDefault(y),b=t(o[7]),w=babelHelpers.interopRequireDefault(b),v=t(o[8]),C=babelHelpers.interopRequireDefault(v),S=t(o[9]),x=(babelHelpers.interopRequireDefault(S),t(o[10]),t(o[11])),D=(babelHelpers.interopRequireWildcard(x),t(o[12])),k=(babelHelpers.interopRequireDefault(D),t(o[13])),E=babelHelpers.interopRequireWildcard(k),I=t(o[14]),T=t(o[15]),L=babelHelpers.interopRequireDefault(T),R=l.Dimensions.get('window'),j=R.width,H=(R.height,t(o[16])),_=[],A=[],B=(function(e){function a(e){babelHelpers.classCallCheck(this,a);var t=babelHelpers.possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t._onPOISearchDone=function(e){console.log('----_onPOISearchDone----:',e),e.searchResultList.length>0&&t.setState({dataArray:e.searchResultList,postionlist:e.searchResultList[0],userAddress:e.searchResultList[0].address})},t._onLocationResult=function(e){console.log("_onLocationResult...result",e),t.setState({searchArray:e.searchResultList})},t._onDidMoveByUser=function(e){t.setState({longitude:e.nativeEvent.data.centerCoordinate.longitude,latitude:e.nativeEvent.data.centerCoordinate.latitude}),t._searchNearBy(e.nativeEvent.data.centerCoordinate.latitude,e.nativeEvent.data.centerCoordinate.longitude)},t.state={swichvalue:!0,inputcon:'',inputtitle:'',inputtime:'',acessname:'',time:(0,u.default)().format('YYYY-MM-DD HH:MM'),datetime1:(0,u.default)().format("YYYY-MM-DD 06:00"),datetime2:(0,u.default)().format('YYYY-MM-DD ')+'18:00',iscontainworkleaf:!1,postionlist:[],userAddress:'\u8bf7\u9009\u62e9\u5730\u70b9',longitude:110.381077,latitude:33.931822,typeall:[],workpostion:[],employeeNum:'',typeName:'',workpostionname:'',userid:''},t}return babelHelpers.inherits(a,e),babelHelpers.createClass(a,[{key:"componentWillUnmount",value:function(){c.default.emit('noticedata',{text:'\u901a\u77e5'})}},{key:"findBuildSiteList",value:function(){var e=this,t=E.baseurl+"/buildProject/findBuildSiteList?userIdFk="+this.state.userid;return fetch(t,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){e.setState({status:t.resultFlag,msg:t.msg},function(){if('1'===this.state.status){var e=t.data.buildSiteInfoTableList;if(null!==e&&void 0!==e&&'[]'!==e){var a=[],n=e,o=Array.isArray(n),i=0;for(n=o?n:n["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var r;if(o){if(i>=n.length)break;r=n[i++]}else{if((i=n.next()).done)break;r=i.value}var l=r;a.push(l.builtSiteName),A[l.builtSiteName]=l.builtSiteId}this.setState({workpostion:a})}}})}).catch(function(e){console.log(e.message)})}},{key:"findAllWorkTypen",value:function(){var e=this,t=E.baseurl+"/workType/findAllWorkType";return fetch(t,{method:"get",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){e.setState({status:t.resultFlag,msg:t.msg},function(){if('1'===this.state.status){var e=t.data.workTypeList;if(null!==e&&void 0!==e&&'[]'!==e){var a=[],n=e,o=Array.isArray(n),i=0;for(n=o?n:n["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var r;if(o){if(i>=n.length)break;r=n[i++]}else{if((i=n.next()).done)break;r=i.value}var l=r;a.push(l.typeName),_[l.typeName]=l.typeId}this.setState({typeall:a})}}})}).catch(function(e){console.log(e.message)})}},{key:"componentDidMount",value:function(){var e=this;l.AsyncStorage.getItem('logininfo',function(t,a){var n=JSON.parse(a);e.setState({userid:n.userId}),e.findAllWorkTypen(),e.findBuildSiteList()}),l.NativeAppEventEmitter.addListener('amap.onPOISearchDone',this._onPOISearchDone),l.NativeAppEventEmitter.addListener('amap.location.onLocationResult',this._onLocationResult),this.getCurrentPosition()}},{key:"getCurrentPosition",value:function(){var e=this;H.getCurrentPosition(function(t){console.log('---location----:',t);t.coords.latitude,t.coords.longitude;e.setState({longitude:t.coords.longitude,latitude:t.coords.latitude,loaded:!0},function(){setTimeout(function(){e.setState({isHidden:!1})},200)})},function(e){alert("\u83b7\u53d6\u4f4d\u7f6e\u5931\u8d25")})}},{key:"_onstartbarcode",value:function(){this.setState({viewAppear:!0})}},{key:"_searchNearBy",value:function(e,t){var a={page:1,coordinate:{latitude:e,longitude:t},keywords:this.state.keywords};this._amap.searchPoiByCenterCoordinate(a)}},{key:"addBuildProjectInfo",value:function(){var e=this,t=this.state.employeeNum;if(null!==t&&void 0!==t&&''!==t){var a=new FormData;a.append('containOverseer',!0===this.state.iscontainworkleaf?1:0),a.append('projectDayStartTime',this.state.datetime1),a.append('projectDayEndTime',this.state.datetime2),a.append('buildProjectStatus',1),a.append('status',0),a.append('typeIdFk',_[this.state.typeName]),a.append('builtSiteIdFk',A[this.state.workpostionname]),a.append('projectDepositCash',0),a.append('projectTotalAmount',0),a.append('employeeNum',this.state.employeeNum),a.append('workFee',0),a.append('userIdFk',this.state.userid);var n=E.baseurl+"/buildProject/addBuildProjectInfo";return I.EasyLoading.show('\u6b63\u5728\u63d0\u4ea4...',3e3),fetch(n,{method:"POST",headers:{ContentType:'application/x-www-form-urlencoded'},body:a}).then(function(e){return e.json()}).then(function(t){I.EasyLoading.dismis(),e.setState({status:t.status,msg:t.msg},function(){this.refs.toast.show(this.state.msg,1e3),this.state.status})}).catch(function(e){I.EasyLoading.dismis(),console.log(e.message)})}this.refs.toast.show("\u5de5\u4eba\u4eba\u6570\u4e0d\u80fd\u4e3a\u7a7a",1e3)}},{key:"render",value:function(){var e=this;return r.default.createElement(l.View,{style:Y.containersentn},r.default.createElement(l.View,{style:Y.roleContainer},r.default.createElement(l.View,{style:Y.smsmessage},r.default.createElement(l.View,{style:{flexDirection:'row',alignItems:'center'}},r.default.createElement(h.default,{textStyle:Y.cousename,style:{width:110},defaultIndex:1,defaultValue:'\u9009\u5de5\u5730',options:this.state.workpostion,onSelect:function(t,a){return e.setState({workpostionname:a})}}),r.default.createElement(l.Image,{style:Y.cousearrow,source:{uri:'icon_011'}}))),r.default.createElement(l.View,{style:Y.smsmessage},r.default.createElement(l.View,{style:{flexDirection:'row',alignItems:'center'}},r.default.createElement(h.default,{textStyle:Y.cousename,style:{width:80},defaultIndex:1,defaultValue:'\u9009\u5de5\u79cd',options:this.state.typeall,onSelect:function(t,a){return e.setState({typeName:a})}}),r.default.createElement(l.Image,{style:Y.cousearrow,source:{uri:'icon_011'}})))),r.default.createElement(l.View,{style:Y.roleContainer},r.default.createElement(l.Text,{style:Y.name},"\u5f00\u5de5\u65f6\u95f4"),r.default.createElement(l.View,{style:{flexDirection:'row',alignItems:'center'}},r.default.createElement(g.default,{style:{width:200},date:this.state.datetime1,mode:"datetime",format:"YYYY-MM-DD HH:mm",placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",confirmBtnText:"\u786e\u5b9a",cancelBtnText:"\u53d6\u6d88",customStyles:{dateIcon:{position:'absolute',left:0,top:4,marginLeft:0},dateInput:{marginLeft:36}},minuteInterval:10,onDateChange:function(t){e.setState({datetime1:t})}}),r.default.createElement(l.Image,{style:Y.cousearrow,source:{uri:'icon_011'}}))),r.default.createElement(l.View,{style:Y.roleContainer},r.default.createElement(l.Text,{style:Y.name},"\u6536\u5de5\u65f6\u95f4"),r.default.createElement(l.View,{style:{flexDirection:'row',alignItems:'center'}},r.default.createElement(g.default,{style:{width:200},date:this.state.datetime2,mode:"datetime",format:"YYYY-MM-DD HH:mm",placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",confirmBtnText:"\u786e\u5b9a",cancelBtnText:"\u53d6\u6d88",customStyles:{dateIcon:{position:'absolute',left:0,top:4,marginLeft:0},dateInput:{marginLeft:36}},minuteInterval:10,onDateChange:function(t){e.setState({datetime2:t})}}),r.default.createElement(l.Image,{style:Y.cousearrow,source:{uri:'icon_011'}}))),r.default.createElement(l.View,{style:Y.classContainer},r.default.createElement(l.View,{style:Y.smsmessage},r.default.createElement(l.Text,{style:Y.name},"\u5de5\u4f5c\u4eba\u6570"),r.default.createElement(l.TextInput,{style:[Y.textinput,{width:100}],maxLength:11,keyboardType:"numeric",clearButtonMode:"while-editing",returnKeyType:"done",underlineColorAndroid:"transparent",placeholderTextColor:C.default.subtitle,placeholder:"\u6570\u91cf",onChangeText:function(t){e.state.employeeNum=t}})),r.default.createElement(l.View,{style:Y.smsmessage},r.default.createElement(l.Text,{style:Y.name},"\u6307\u5b9a\u5de5\u4eba"),r.default.createElement(l.TextInput,{style:[Y.textinput,{width:100}],maxLength:11,clearButtonMode:"while-editing",returnKeyType:"done",underlineColorAndroid:"transparent",placeholderTextColor:C.default.subtitle,placeholder:"\u6307\u5b9a\u4eba\u540d\u5b57",onChangeText:function(t){e.data.inviteCode=t}}))),r.default.createElement(w.default,{label:'\u662f\u5426\u5305\u542b\u5de5\u5934',checked:this.state.iscontainworkleaf,labelBefore:!0,checkedImage:t(o[17]),uncheckedImage:t(o[18]),onChange:function(t){e.setState({iscontainworkleaf:!t})},underlayColor:"transparent"}),r.default.createElement(l.View,{style:{flexDirection:'row',alignItems:'center',marginTop:50,width:j,justifyContent:'space-around'}},r.default.createElement(p.default,{underlayColor:"blue",underlayTxtColor:"gray",txtStyle:{color:'white',fontSize:15,textAlign:'left'},style:[Y.btnc,{marginLeft:20}],onPress:function(){return e.addBuildProjectInfo()}},"\u786e\u5b9a\u63d0\u4ea4")),r.default.createElement(I.Loading,null),r.default.createElement(L.default,{ref:"toast",position:"center"}))}}]),a})(i.Component);n.default=B;var Y=l.StyleSheet.create({containersentn:{flex:1,flexDirection:'column',justifyContent:'flex-start',backgroundColor:'#fff'},inputText:{height:50,width:.6666666666666666*j,fontSize:16,textAlign:'right',textAlignVertical:'center',textDecorationLine:'none'},containerbox:{marginLeft:15,flexDirection:'row',justifyContent:'space-around',backgroundColor:'#fff'},roleContainer:{flexDirection:'row',paddingLeft:15,paddingRight:15,alignItems:'center',height:60,borderWidth:.5,borderColor:C.default.subtitle,justifyContent:'space-between'},cousename:{fontSize:16,color:'gray'},dropbutton:{width:60,backgroundColor:'#F5FCFF'},cousearrow:{width:25,height:25},upload:{width:100,height:50},btnc:{height:45,width:150,padding:0,backgroundColor:C.default.activeTint,borderRadius:4},name:{fontSize:16,color:'gray'},exercisemap:{flexDirection:'column',justifyContent:'flex-start',backgroundColor:'#fff',paddingLeft:15,paddingRight:15},dropdown:{fontSize:15,color:'gray'},text:{color:C.default.title,fontSize:14},inputView:{flexDirection:'row',borderBottomWidth:.5,alignItems:'center',width:j,paddingLeft:50,paddingRight:15,justifyContent:'space-around',borderColor:C.default.gray},smsmessage:{flexDirection:'row',justifyContent:'flex-start',alignItems:'center'},classContainer:{paddingLeft:15,paddingRight:15,flexDirection:'row',width:j,alignItems:'center',borderBottomWidth:.5,borderBottomColor:C.default.gray,height:40,justifyContent:'space-around'},arrow:{height:30,width:30}})},775,[13,20,578,37,567,18,776,766,577,571,308,286,580,568,569,570,92,770,771]);